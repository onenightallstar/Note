# Buffer Pool
- 当读取数据时，如果数据存在于 Buffer Pool 中，客户端就会直接读取 Buffer Pool 中的数据，否则再去磁盘中读取。
当修改数据时，首先是修改 Buffer Pool 中数据所在的页，然后将其页设置为脏页，最后由后台线程将脏页写入到磁盘。
- 多大：默认128MB。InnoDB 会为 Buffer Pool 申请一片连续的内存空间，然后按照默认的16KB的大小划分出一个个的页， Buffer Pool 中的页就叫做缓存页。
- 控制块：缓存页的表空间、页号、缓存页地址、链表节点
- 空闲页使用Free链表
- 管理脏页：Flush链表
- 预读失败：被提前加载进来的数据也并没有被访问
- 如何提高命中率：把LRU链表分成young 和 old区域
- Buffer Pool污染：扫描了大量的数据时，在 Buffer Pool 空间比较有限的情况下，可能会将 Buffer Pool 里的所有页都替换出去，导致大量热数据被淘汰了
- 预防：规定只有同时满足「被访问」与「在 old 区域停留时间超过 1 秒」两个条件，才会被插入到 young 区域头部